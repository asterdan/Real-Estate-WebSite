
@{
    ViewBag.Title = "MyProfile";
}

<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<style>
    body{
    background: -webkit-linear-gradient(left, #3931af, #00c6ff);
}
.emp-profile{
    padding: 3%;
    margin-top: 3%;
    margin-bottom: 3%;
    border-radius: 0.5rem;
    background: #fff;
}
.profile-img{
    text-align: center;
}
.profile-img img{
    width: 70%;
    height: 100%;
}
.profile-img .file {
    position: relative;
    overflow: hidden;
    margin-top: -20%;
    width: 70%;
    border: none;
    border-radius: 0;
    font-size: 15px;
    background: #212529b8;
}
.profile-img .file input {
    position: absolute;
    opacity: 0;
    right: 0;
    top: 0;
}
.profile-head h5{
    color: #333;
}
.profile-head h6{
    color: #0062cc;
}
.profile-edit-btn{
    border: none;
    border-radius: 1.5rem;
    width: 70%;
    padding: 2%;
    font-weight: 600;
    color: #6c757d;
    cursor: pointer;
}
.proile-rating{
    font-size: 12px;
    color: #818182;
    margin-top: 5%;
}
.proile-rating span{
    color: #495057;
    font-size: 15px;
    font-weight: 600;
}
.profile-head .nav-tabs{
    margin-bottom:5%;
}
.profile-head .nav-tabs .nav-link{
    font-weight:600;
    border: none;
}
.profile-head .nav-tabs .nav-link.active{
    border: none;
    border-bottom:2px solid #0062cc;
}
.profile-work{
    padding: 14%;
    margin-top: -15%;
}
.profile-work p{
    font-size: 12px;
    color: #818182;
    font-weight: 600;
    margin-top: 10%;
}
.profile-work a{
    text-decoration: none;
    color: #495057;
    font-weight: 600;
    font-size: 14px;
}
.profile-work ul{
    list-style: none;
}
.profile-tab label{
    font-weight: 600;
}
.profile-tab p{
    font-weight: 600;
    color: #0062cc;
}
.menu-items{list-style-type:none;font-size:11px;display:inline-flex;margin-bottom:0;margin-top:20px}
@@media (max-width: 426px) {
    .container {margin-top:0px !important;}
    .container > .row{padding:0 !important;}
    .container > .row > .col-xs-12.col-sm-5{
        padding-right:0 ;
    }
    .container > .row > .col-xs-12.col-sm-9 > div > p{
        padding-left:0 !important;
        padding-right:0 !important;
    }
    .container > .row > .col-xs-12.col-sm-9 > div > ul{
        padding-left:10px !important;

    }
    .section{width:104%;}
    .menu-items{padding-left:0;}
}

</style>

@{var item = (HomeWebsite.Models.Entities.KonsumatorWithPicture)ViewBag.Data;
  string source = ViewBag.Src;}



<!------ Include the above in your HEAD tag ---------->
<div class="container emp-profile">


        <div class="row">
            <div class="col-md-3">
                <div class="profile-img">
                    <!--<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS52y5aInsxSm31CvHOFHWujqUx_wWTS9iM6s7BAm21oEN_RiGoog" alt="" />-->
                   <img src="@Url.Content(source)" alt="" width="250" height="250" />
                    <br />
                    <br />
                    
                        @using (Html.BeginForm("UploadPicture", "Profiles", FormMethod.Post, new { enctype = "multipart/form-data", id = "formData" }))
                        {
                            <table class="table table-responsive">
                                <tr>
                                    <td>Change Photo</td>
                                </tr>
                                <tr>
                                    <td><input type="file" name="file" /></td>
                                </tr>
                                <tr>
                                    <td>
                                        <button id="btnPost" class="btn btn-info">Upload Picture</button>
                                    </td>
                                </tr>
                            </table>
                        }



                   
                </div>
            </div>
            <div class="col-md-6">
                <div class="profile-head">
                    <h5>
                        @item.konsumator.Emer @item.konsumator.Mbiemer
                    </h5>
                    <h6>
                        Klient
                    </h6>
                    <p class="proile-rating">Rating : <span>@item.konsumator.KonsumatorRating</span></p>
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            
                            <button class="btn btn-primary" id="btnTeDhena">About</button>
                        </li>
                        &nbsp;&nbsp;
                        <li class="nav-item">
                        
                            <button class="btn btn-primary" id="btnProperties">Properties</button>
                        </li>
                    </ul>
                </div>
            </div>
          
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="profile-work">
                    <p>WORK LINK</p>
                    @Html.ActionLink("Add address","AddAddress")<br />
                    @Html.ActionLink("Add credit card","AddCreditCard")<br />
                    <a href="">Bootply Profile</a>
                    <p>SKILLS</p>
                    <a href="">Web Designer</a><br />
                    <a href="">Web Developer</a><br />
                    <a href="">WordPress</a><br />
                    <a href="">WooCommerce</a><br />
                    <a href="">PHP, .Net</a><br />
                </div>
            </div>
            <div class="col-md-8">
                
                    <div id="divTeDhena" style="width:100%;border-top:1px solid silver;">
                        <div class="row">
                            <div class="col-md-6">
                                <label>User Id</label>
                            </div>
                            <div class="col-md-6">
                                <p>@item.konsumator.UserName</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Name</label>
                            </div>
                            <div class="col-md-6">
                                <p>@item.konsumator.Emer @item.konsumator.Mbiemer</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Email</label>
                            </div>
                            <div class="col-md-6">
                                <p>@item.konsumator.Email</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Phone</label>
                            </div>
                            <div class="col-md-6">
                                <p>@item.konsumator.Telefon</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Description</label>
                            </div>
                            <div class="col-md-6">
                                <p>@item.konsumator.KonsumatorPershkrim</p>
                            </div>
                        </div>
                    </div>
                    <div id="divProperties" style="width:100%;border-top:1px solid silver;display:none;">
                        @{ string tempSource = ""; }
                        @foreach (var prone in (List<HomeWebsite.Models.Entities.Prone>)ViewBag.Properties)
                        {
                            
                               if(prone.proneComp.picturePath==null)
                               {
                                   tempSource = "https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png";
                               }
                               else
                               {
                                   tempSource = prone.proneComp.picturePath;
                               }
                                   
                                <div class="item col-xs-4 col-lg-4">
                                    <div class="thumbnail card">
                                        <div class="img-event">
                                            <img class="group list-group-image" src="@Url.Content(tempSource)" alt="" style="width:100%; height:150px;"/>
                                        </div>
                                        <div class="caption card-body">
                                            <h4 class="group card-title inner list-group-item-heading">
                                                @prone.proneComp.ProneTitull
                                            </h4>
                                            <p class="group inner list-group-item-text">
                                                <ul>
                                                    <li>Siperfaqe: @prone.proneComp.ProneSiperfaqe</li>
                                                    <li>Dhoma: @prone.proneComp.ProneNumerDhomash</li>
                                                    <li>Banjo: @prone.proneComp.ProneNumerBanjo</li>

                                                </ul>
                                            </p>
                                            <div class="row">
                                                <div class="col-xs-12 col-md-12">
                                                    <p class="lead">
                                                        Cmimi: @prone.proneComp.pricePerMonth $
                                                    </p>
                                                </div>
                                                
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-12 col-md-6">
                                                    @{var idItem = prone.proneComp.IdProne;}
                                                    @using (Html.BeginForm("AddPropertyPicture", "ProneInformation", FormMethod.Post))
                                                    {
                                                        <input type="hidden" id="id" name="id" value="@idItem">
                                                        <input class="btn btn-success" type="submit" value="Shto foto profili" />
                                                    }
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                           


                        }
                    </div>

                    </div>
                </div>


            </div>

<script type="text/javascript">
    $("#btnPost").click(function () {
        $.post("/Profiles/UploadPicture", $("#formData").serialize(), function (data) {
            var message = '<h6>Status : ' + data.status + ' Message : ' + data.message + '</h6>';
            alert(message);
        })
    })

    $("#btnTeDhena").click(function()
    {
        $("#divProperties").hide();
        $("#divTeDhena").show();
    })

    $("#btnProperties").click(function () {
        $("#divProperties").show();
        $("#divTeDhena").hide();
    })
</script>